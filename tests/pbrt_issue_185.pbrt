Film "rgb"
    "integer xresolution" [ 4096 ]
    "integer yresolution" [ 4096 ]
    "string filename" [ "pbrt.exr" ]

Sampler "zsobol"
    "integer pixelsamples" [ 1024 ]

Integrator "sppm"
    "integer maxdepth" [ 32 ]
    "float radius" [ 0.1 ]
    "integer photonsperiteration" [ -1 ]

Accelerator "bvh"

Rotate 165 0 1 0
Translate -2 0 -5
#Translate -4 0 -3
Translate 0 0 0

Camera "realistic"
    "string lensfile" [ "../../pbrt-v4-scenes/lenses/wide.22mm.dat" ]
    #"string lensfile" [ "lenses/lens.dat" ]
    "float focusdistance" [ 5.0 ]
    "float aperturediameter" [ 6.0 ]

WorldBegin

ObjectBegin "mesh/plane"
    AttributeBegin
        ReverseOrientation
        Shape "bilinearmesh"
            "integer indices" [
                0
                1
                2
                3
            ]
            "point3 P" [ 
                -0.5 -0.5 0.0
                0.5  -0.5 0.0
                -0.5 0.5 0.0
                0.5  0.5 0.0
            ]
            "normal N" [
                0 0 1
                0 0 1
                0 0 1
                0 0 1
                ]
    AttributeEnd
ObjectEnd

AttributeBegin
    Translate 0 2 10
    Rotate 180 0 1 0
    Rotate 10 1 0 0
    LightSource "projection"
        "float scale" [ 500 ]
        "float fov" [ 20 ]
        "string filename" [ "textures/check.png" ]
AttributeEnd

AttributeBegin
    LightSource "infinite"
        "blackbody L" [ 4000 ]
        "float scale" [ 0.5 ]
AttributeEnd

MakeNamedMaterial "/mat/pbrt_material_dieletric1"
    "string type" [ "dielectric" ]
    "spectrum eta" "glass-BK7"

ObjectBegin "bilinearmesh box"
    NamedMaterial "/mat/pbrt_material_dieletric1"
    AttributeBegin
        Translate 0 0 0.5
        Shape "bilinearmesh" "point3 P" [ -0.5 -0.5 0 0.5 -0.5 0 -0.5 0.5 0 0.5 0.5 0 ]
    AttributeEnd
    AttributeBegin
        Translate 0 0 -0.5
        Rotate 180 0 1 0
        Shape "bilinearmesh" "point3 P" [ -0.5 -0.5 0 0.5 -0.5 0 -0.5 0.5 0 0.5 0.5 0 ]
    AttributeEnd
    AttributeBegin
        Translate 0 0.5 0
        Rotate -90 1 0 0
        Shape "bilinearmesh" "point3 P" [ -0.5 -0.5 0 0.5 -0.5 0 -0.5 0.5 0 0.5 0.5 0 ]
    AttributeEnd
    AttributeBegin
        Translate 0 -0.5 0
        Rotate 90 1 0 0
        Shape "bilinearmesh" "point3 P" [ -0.5 -0.5 0 0.5 -0.5 0 -0.5 0.5 0 0.5 0.5 0 ]
    AttributeEnd
    AttributeBegin
        Translate 0.5 0 0
        Rotate 90 0 1 0
        Shape "bilinearmesh" "point3 P" [ -0.5 -0.5 0 0.5 -0.5 0 -0.5 0.5 0 0.5 0.5 0 ]
    AttributeEnd
    AttributeBegin
        Translate -0.5 0 0
        Rotate -90 0 1 0
        Shape "bilinearmesh" "point3 P" [ -0.5 -0.5 0 0.5 -0.5 0 -0.5 0.5 0 0.5 0.5 0 ]
    AttributeEnd
ObjectEnd

ObjectBegin "trianglemesh box"
    NamedMaterial "/mat/pbrt_material_dieletric1"
    Shape "trianglemesh"
        "integer indices" [ 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 
                            21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 ]
        "point3 P" [ 0.5 -0.5 0.5 -0.5 -0.5 0.5 -0.5 0.5 0.5 -0.5 -0.5 -0.5 0.5 -0.5 
                     -0.5 0.5 0.5 -0.5 -0.5 0.5 -0.5 0.5 0.5 -0.5 0.5 0.5 0.5 0.5 
                     -0.5 -0.5 -0.5 -0.5 -0.5 -0.5 -0.5 0.5 0.5 -0.5 -0.5 0.5 -0.5 
                     0.5 0.5 0.5 0.5 -0.5 -0.5 0.5 -0.5 -0.5 -0.5 -0.5 0.5 -0.5 -0.5 
                     0.5 -0.5 -0.5 0.5 0.5 -0.5 -0.5 0.5 0.5 0.5 0.5 0.5 0.5 -0.5 
                     0.5 -0.5 -0.5 -0.5 -0.5 0.5 0.5 -0.5 0.5 0.5 -0.5 -0.5 0.5 0.5 
                     0.5 -0.5 0.5 0.5 -0.5 0.5 -0.5 0.5 0.5 -0.5 -0.5 0.5 -0.5 -0.5 
                     -0.5 -0.5 -0.5 0.5 0.5 0.5 0.5 0.5 0.5 -0.5 0.5 ]
        "normal N" [ 0 0 1 0 0 1 0 0 1 0 0 -1 0 0 -1 0 0 -1 0 1 0 0 1 0 0 1 0 0 -1 
                     0 0 -1 0 0 -1 0 1 0 0 1 0 0 1 0 0 -1 0 0 -1 0 0 -1 0 0 -1 0 
                     0 -1 0 0 -1 0 0 1 0 0 1 0 0 1 0 0 0 -1 0 0 -1 0 0 -1 0 0 1 0 
                     0 1 0 0 1 0 0 0 -1 0 0 -1 0 0 -1 0 0 1 0 0 1 0 0 1 ]
ObjectEnd

AttributeBegin
    Scale 5.0 5.0 1.0
    ObjectInstance "mesh/plane"
AttributeEnd

# AttributeBegin
#     Translate 0 2 2.1
#     Rotate 180 0 1 0
#     Rotate 10 1 0 0
#     Scale 1.0 1.0 0.05
#     #ObjectInstance "trianglemesh box"
#     ObjectInstance "bilinearmesh box"
# AttributeEnd
